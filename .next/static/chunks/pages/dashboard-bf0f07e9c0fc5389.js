(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{5091:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var n=s(7876),c=s(4232),a=s(5965),d=s(5665),i=s(1792);async function r(e,t){let s=(0,i.Qg)((0,i.Uz)(),"assignTicketToWorker");return await s({ticketId:e,workerId:t})}async function l(e){let t=(0,i.Qg)((0,i.Uz)(),"completeTicket");return await t({ticketId:e})}async function h(e){let t=(0,i.Qg)((0,i.Uz)(),"cancelTicket");return await t({ticketId:e})}function u(){let e=(0,a.sh)(),t=(0,d.aU)(e),[s,i]=(0,c.useState)([]);return(0,c.useEffect)(()=>{let e=(0,d.P)((0,d.rJ)(t,"tickets"),(0,d._M)("status","in",["requested","assigned"]),(0,d.My)("requestedAt","asc")),s=(0,d.aQ)(e,e=>{i(e.docs.map(e=>({id:e.id,...e.data()})))});return()=>s()},[]),(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Admin Dashboard"}),(0,n.jsxs)("table",{className:"min-w-full bg-white border rounded",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"#"}),(0,n.jsx)("th",{children:"Plate"}),(0,n.jsx)("th",{children:"Model"}),(0,n.jsx)("th",{children:"Status"}),(0,n.jsx)("th",{children:"Actions"})]})}),(0,n.jsx)("tbody",{children:s.map((e,t)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.ticket_number}),(0,n.jsx)("td",{children:e.plate_number}),(0,n.jsx)("td",{children:e.car_model}),(0,n.jsx)("td",{children:e.status}),(0,n.jsxs)("td",{className:"space-x-2",children:[(0,n.jsx)("button",{onClick:()=>r(e.id,1),className:"btn",children:"Assign"}),(0,n.jsx)("button",{onClick:()=>l(e.id),className:"btn bg-green-500",children:"Complete"}),(0,n.jsx)("button",{onClick:()=>h(e.id),className:"btn bg-red-500",children:"Cancel"})]})]},t))})]})]})}},7580:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return s(5091)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(7580)),_N_E=e.O()}]);